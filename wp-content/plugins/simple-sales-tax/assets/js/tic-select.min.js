!function(s,c){s(function(){var t=wp.template("sst-tic-row"),e=Backbone.View.extend({rowTemplate:t,input:null,readout:null,initialize:function(){this.input=this.$el.siblings(".sst-tic-input"),this.readout=this.$el.siblings(".sst-selected-tic"),this.handleInputChange=this.handleInputChange.bind(this),this.$el.on("click",{view:this},this.openModal),this.input.on("change",this.handleInputChange)},render:function(){this.selectTIC(this.input.val())},bindEvents:function(){s(document.body).on("click",".sst-select-done",{view:this},this.updateSelection),s(document.body).on("wc_backbone_modal_response",{view:this},this.completeSelection)},unbindEvents:function(){s(document.body).off("click",".sst-select-done",this.updateSelection),s(document.body).off("wc_backbone_modal_response",this.completeSelection)},openModal:function(t){var e=t.data.view;t.preventDefault(),s(this).SSTBackboneModal({template:"sst-tic-select-modal"}),e.bindEvents(),e.initModal()},initModal:function(t){var i=this,n=s(".sst-tic-list");n.empty(),_.each(c.tic_list,function(t,e){n.append(i.rowTemplate(t))}),s(".sst-tic-search").hideseek()},updateSelection:function(t){t=s(t.target).closest("tr");s('input[name="tic"]').val(t.data("id")),s("#btn-ok").trigger("click")},completeSelection:function(t,e,i){"sst-tic-select-modal"===e&&(t.data.view.selectTIC(i.tic),t.data.view.unbindEvents())},selectTIC:function(t){this.input.val(t).trigger("change")},handleInputChange:function(){var t=this.input.val();""==t?this.readout.text(this.readout.data("default")):(t=c.tic_list[parseInt(t)],this.readout.text(t.description+" ("+t.id+")"))},remove:function(){Backbone.View.prototype.remove.call(this),this.input.off("change")}});function i(){s(".sst-select-tic:not(.initialized)").each(function(){new e({el:s(this)}).render(),s(this).addClass("initialized")})}i(),s(document.body).on(c.tic_select_init_events,i)})}(jQuery,ticSelectLocalizeScript);